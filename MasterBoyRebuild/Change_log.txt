Eliminated many warnings on compile log, but there are still ...

Still much to optimize ..
